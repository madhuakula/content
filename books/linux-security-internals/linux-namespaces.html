
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>What are the Linux namespaces? Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="seccomp-bpf.html" />
    
    
    <link rel="prev" href="namespaces.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="about.html">
            
                <a href="about.html">
            
                    
                    About Us
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="linuxarch/">
            
                <a href="linuxarch/">
            
                    
                    Linux Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="linuxarch/kernel.html">
            
                <a href="linuxarch/kernel.html">
            
                    
                    Kernel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="linuxarch/processmanage.html">
            
                <a href="linuxarch/processmanage.html">
            
                    
                    Process Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="linuxarch/protectionrings.html">
            
                <a href="linuxarch/protectionrings.html">
            
                    
                    Protection Rings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="linuxarch/syscalls.html">
            
                <a href="linuxarch/syscalls.html">
            
                    
                    System Calls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="linuxarch/memorymanage.html">
            
                <a href="linuxarch/memorymanage.html">
            
                    
                    Memory Management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="dirtycow.html">
            
                <a href="dirtycow.html">
            
                    
                    Dirty Cow Demo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="linux-containers.html">
            
                <a href="linux-containers.html">
            
                    
                    Linux Containers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="namespaces.html">
            
                <a href="namespaces.html">
            
                    
                    Namespaces
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.6.1" data-path="linux-namespaces.html">
            
                <a href="linux-namespaces.html">
            
                    
                    What are the Linux namespaces?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="seccomp-bpf.html">
            
                <a href="seccomp-bpf.html">
            
                    
                    Seccomp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="cgroups.html">
            
                <a href="cgroups.html">
            
                    
                    Control Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="capabilities.html">
            
                <a href="capabilities.html">
            
                    
                    Capabilities
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="lsm.html">
            
                <a href="lsm.html">
            
                    
                    Linux Security Modules
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="apparmor.html">
            
                <a href="apparmor.html">
            
                    
                    AppArmor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="best-practices.html">
            
                <a href="best-practices.html">
            
                    
                    Best Practices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="references.html">
            
                <a href="references.html">
            
                    
                    References & Resources
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >What are the Linux namespaces?</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="what-are-the-linux-name-spaces">What are the Linux name spaces?</h3>
<h4 id="pid-namespace">PID namespace</h4>
<p> PID namespaces isolate the process ID number space, meaning that processes in different PID namespaces can have the same PID.  PID namespaces allow containers to provide functionality such as suspending/resuming the set of processes in the container and migrating the container to a new host while the processes inside the container maintain the same PIDs.</p>
<p>For example, while running nginx docker container inside container we always see nginx PID 1 but outside host we see different PID like <code>9989</code></p>
<pre><code>$ docker run --name=samplewebapp1 -d nginx:alpine
$ ps auxxx | grep nginx
$ docker exec -it samplewebapp1 sh
# top

$ docker run --name=samplewebapp2 -d nginx:alpine
$ ps auxxx | grep nginx
$ docker exec -it samplewebapp2 sh
# top
</code></pre><h4 id="mount-namespace">Mount namespace</h4>
<blockquote>
<p>Mount namespaces provide isolation of the list of mount points seen by the processes in each namespace instance.  Thus, the processes in each of the mount namespace instances will see distinct single-directory hierarchies.</p>
</blockquote>
<p>For example, in docker we use <code>-v</code> option to volume mount the directories from host system to container.</p>
<pre><code>$ docker run --name=sampleapp1 -d alpine sleep 1000
$ sudo cat /proc/[PID]/mountstats
$ docker exec -it sampleapp1 sh
# ls /data/

$ mkdir testmount
$ touch testmount/samplefile.txt
$ docker run --name=sampleapp2 -d -v testmount:/data alpine sleep 1000
$ sudo cat /proc/[PID]/mountstats
$ docker exec -it sampleapp2 sh
# ls /data/
</code></pre><h4 id="uts-namespace">UTS namespace</h4>
<p>UTS namespaces provide isolation of two system identifiers: the hostname and the NIS domain name.</p>
<p>For example, we can see these by running the below commands</p>
<pre><code>$ hostname

$ uname


$ docker run -it alpine sh
# hostname

# uname
</code></pre><h4 id="network-namespace">Network namespace</h4>
<p>Network namespace provide isolation of network controllers, system resources associated with networking, firewall and routing tables. This allows container to use separate virtual network stack, loopback device and process space. You can add virtual or real devices to the container, assign them their own IP Addresses and even full iptables rules. </p>
<p>For example, we can view the different network settings by executing the <code>ip addr</code> command on the host and inside the container.</p>
<pre><code>$ ip addr

$ docker run --name=samplenetapp -d alpine sleep 1000
$ ps auxxx | grep sleep
$ sudo ls /proc/[pid]/net/
$ docker exec -it samplenetapp sh
# ip addr
</code></pre><h4 id="ipc-namespace">IPC namespace</h4>
<p>Each IPC namespace has its own set of System V IPC identifiers and its own POSIX message queue filesystem.  Objects created in an IPC namespace are visible to all other processes that are members of that namespace, but are not visible to processes in other IPC namespaces.</p>
<p>For example, check the <code>/proc/sysvipc</code> in system to see the (sem, shm, msg)</p>
<h4 id="user-namespace">User namespace</h4>
<p>User namespaces isolate security-related identifiers and attributes, in particular, user IDs and group IDs, the root directory, keys, and capabilities.</p>
<p>In particular, a process can have a normal unprivileged user ID outside a user namespace while at the same time having a user ID of 0 inside the namespace; in other words, the process has full privileges for operations inside the user namespace, but is unprivileged for operations outside the namespace.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="namespaces.html" class="navigation navigation-prev " aria-label="Previous page: Namespaces">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="seccomp-bpf.html" class="navigation navigation-next " aria-label="Next page: Seccomp">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"What are the Linux namespaces?","level":"1.6.1","depth":2,"next":{"title":"Seccomp","level":"1.7","depth":1,"path":"seccomp-bpf.md","ref":"seccomp-bpf.md","articles":[]},"previous":{"title":"Namespaces","level":"1.6","depth":1,"path":"namespaces.md","ref":"namespaces.md","articles":[{"title":"What are the Linux namespaces?","level":"1.6.1","depth":2,"path":"linux-namespaces.md","ref":"linux-namespaces.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["ga"],"pluginsConfig":{"ga":{"configuration":"auto","token":"UA-15752161-2"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"linux-namespaces.md","mtime":"2020-05-31T20:21:51.076Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-05-31T20:23:32.240Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

